#ifndef _GAMMAS_H_
#define _GAMMAS_H_
const float gammas[] = {
		0.00000, 0.00000, 0.00000, 0.00000, 0.00001, 0.00001, 0.00001, 0.00002, 0.00002, 0.00003,
		0.00004, 0.00005, 0.00006, 0.00007, 0.00008, 0.00010, 0.00011, 0.00013, 0.00015, 0.00016,
		0.00018, 0.00020, 0.00023, 0.00025, 0.00027, 0.00030, 0.00033, 0.00035, 0.00038, 0.00041,
		0.00045, 0.00048, 0.00051, 0.00055, 0.00059, 0.00063, 0.00067, 0.00071, 0.00075, 0.00079,
		0.00084, 0.00089, 0.00094, 0.00099, 0.00104, 0.00109, 0.00114, 0.00120, 0.00126, 0.00131,
		0.00137, 0.00143, 0.00150, 0.00156, 0.00163, 0.00169, 0.00176, 0.00183, 0.00190, 0.00198,
		0.00205, 0.00213, 0.00220, 0.00228, 0.00236, 0.00245, 0.00253, 0.00261, 0.00270, 0.00279,
		0.00288, 0.00297, 0.00306, 0.00316, 0.00325, 0.00335, 0.00345, 0.00355, 0.00365, 0.00376,
		0.00386, 0.00397, 0.00408, 0.00419, 0.00430, 0.00441, 0.00453, 0.00464, 0.00476, 0.00488,
		0.00500, 0.00513, 0.00525, 0.00538, 0.00551, 0.00564, 0.00577, 0.00590, 0.00604, 0.00617,
		0.00631, 0.00645, 0.00659, 0.00673, 0.00688, 0.00702, 0.00717, 0.00732, 0.00747, 0.00763,
		0.00778, 0.00794, 0.00810, 0.00826, 0.00842, 0.00858, 0.00875, 0.00891, 0.00908, 0.00925,
		0.00942, 0.00960, 0.00977, 0.00995, 0.01013, 0.01031, 0.01049, 0.01068, 0.01086, 0.01105,
		0.01124, 0.01143, 0.01162, 0.01182, 0.01201, 0.01221, 0.01241, 0.01261, 0.01282, 0.01302,
		0.01323, 0.01344, 0.01365, 0.01386, 0.01407, 0.01429, 0.01451, 0.01473, 0.01495, 0.01517,
		0.01540, 0.01562, 0.01585, 0.01608, 0.01631, 0.01655, 0.01678, 0.01702, 0.01726, 0.01750,
		0.01774, 0.01799, 0.01824, 0.01848, 0.01874, 0.01899, 0.01924, 0.01950, 0.01976, 0.02001,
		0.02028, 0.02054, 0.02080, 0.02107, 0.02134, 0.02161, 0.02188, 0.02216, 0.02243, 0.02271,
		0.02299, 0.02328, 0.02356, 0.02384, 0.02413, 0.02442, 0.02471, 0.02501, 0.02530, 0.02560,
		0.02590, 0.02620, 0.02650, 0.02681, 0.02711, 0.02742, 0.02773, 0.02804, 0.02836, 0.02867,
		0.02899, 0.02931, 0.02963, 0.02996, 0.03028, 0.03061, 0.03094, 0.03127, 0.03160, 0.03194,
		0.03228, 0.03262, 0.03296, 0.03330, 0.03364, 0.03399, 0.03434, 0.03469, 0.03504, 0.03540,
		0.03575, 0.03611, 0.03647, 0.03684, 0.03720, 0.03757, 0.03793, 0.03831, 0.03868, 0.03905,
		0.03943, 0.03981, 0.04019, 0.04057, 0.04095, 0.04134, 0.04173, 0.04212, 0.04251, 0.04290,
		0.04330, 0.04370, 0.04410, 0.04450, 0.04490, 0.04531, 0.04571, 0.04612, 0.04654, 0.04695,
		0.04737, 0.04778, 0.04820, 0.04863, 0.04905, 0.04948, 0.04990, 0.05033, 0.05076, 0.05120,
		0.05163, 0.05207, 0.05251, 0.05295, 0.05340, 0.05384, 0.05429, 0.05474, 0.05519, 0.05565,
		0.05610, 0.05656, 0.05702, 0.05749, 0.05795, 0.05842, 0.05888, 0.05935, 0.05983, 0.06030,
		0.06078, 0.06126, 0.06174, 0.06222, 0.06270, 0.06319, 0.06368, 0.06417, 0.06466, 0.06516,
		0.06566, 0.06616, 0.06666, 0.06716, 0.06767, 0.06817, 0.06868, 0.06919, 0.06971, 0.07022,
		0.07074, 0.07126, 0.07178, 0.07231, 0.07283, 0.07336, 0.07389, 0.07442, 0.07496, 0.07549,
		0.07603, 0.07657, 0.07712, 0.07766, 0.07821, 0.07876, 0.07931, 0.07986, 0.08042, 0.08097,
		0.08153, 0.08209, 0.08266, 0.08322, 0.08379, 0.08436, 0.08493, 0.08551, 0.08608, 0.08666,
		0.08724, 0.08783, 0.08841, 0.08900, 0.08959, 0.09018, 0.09077, 0.09137, 0.09196, 0.09256,
		0.09317, 0.09377, 0.09438, 0.09498, 0.09559, 0.09621, 0.09682, 0.09744, 0.09806, 0.09868,
		0.09930, 0.09993, 0.10055, 0.10118, 0.10181, 0.10245, 0.10308, 0.10372, 0.10436, 0.10500,
		0.10565, 0.10630, 0.10694, 0.10760, 0.10825, 0.10890, 0.10956, 0.11022, 0.11088, 0.11155,
		0.11221, 0.11288, 0.11355, 0.11422, 0.11490, 0.11558, 0.11626, 0.11694, 0.11762, 0.11831,
		0.11899, 0.11968, 0.12038, 0.12107, 0.12177, 0.12247, 0.12317, 0.12387, 0.12457, 0.12528,
		0.12599, 0.12670, 0.12742, 0.12813, 0.12885, 0.12957, 0.13030, 0.13102, 0.13175, 0.13248,
		0.13321, 0.13394, 0.13468, 0.13542, 0.13616, 0.13690, 0.13764, 0.13839, 0.13914, 0.13989,
		0.14065, 0.14140, 0.14216, 0.14292, 0.14368, 0.14445, 0.14521, 0.14598, 0.14675, 0.14753,
		0.14830, 0.14908, 0.14986, 0.15064, 0.15143, 0.15221, 0.15300, 0.15379, 0.15459, 0.15538,
		0.15618, 0.15698, 0.15778, 0.15859, 0.15940, 0.16021, 0.16102, 0.16183, 0.16265, 0.16346,
		0.16428, 0.16511, 0.16593, 0.16676, 0.16759, 0.16842, 0.16925, 0.17009, 0.17093, 0.17177,
		0.17261, 0.17346, 0.17430, 0.17515, 0.17600, 0.17686, 0.17771, 0.17857, 0.17943, 0.18030,
		0.18116, 0.18203, 0.18290, 0.18377, 0.18465, 0.18552, 0.18640, 0.18728, 0.18817, 0.18905,
		0.18994, 0.19083, 0.19172, 0.19262, 0.19351, 0.19441, 0.19531, 0.19622, 0.19712, 0.19803,
		0.19894, 0.19986, 0.20077, 0.20169, 0.20261, 0.20353, 0.20446, 0.20538, 0.20631, 0.20724,
		0.20818, 0.20911, 0.21005, 0.21099, 0.21193, 0.21288, 0.21383, 0.21478, 0.21573, 0.21668,
		0.21764, 0.21860, 0.21956, 0.22052, 0.22149, 0.22245, 0.22342, 0.22440, 0.22537, 0.22635,
		0.22733, 0.22831, 0.22929, 0.23028, 0.23127, 0.23226, 0.23325, 0.23425, 0.23525, 0.23625,
		0.23725, 0.23826, 0.23926, 0.24027, 0.24128, 0.24230, 0.24331, 0.24433, 0.24535, 0.24638,
		0.24740, 0.24843, 0.24946, 0.25050, 0.25153, 0.25257, 0.25361, 0.25465, 0.25569, 0.25674,
		0.25779, 0.25884, 0.25990, 0.26095, 0.26201, 0.26307, 0.26413, 0.26520, 0.26627, 0.26734,
		0.26841, 0.26948, 0.27056, 0.27164, 0.27272, 0.27381, 0.27489, 0.27598, 0.27707, 0.27817,
		0.27926, 0.28036, 0.28146, 0.28257, 0.28367, 0.28478, 0.28589, 0.28700, 0.28812, 0.28923,
		0.29035, 0.29147, 0.29260, 0.29372, 0.29485, 0.29598, 0.29712, 0.29825, 0.29939, 0.30053,
		0.30168, 0.30282, 0.30397, 0.30512, 0.30627, 0.30743, 0.30858, 0.30974, 0.31091, 0.31207,
		0.31324, 0.31441, 0.31558, 0.31675, 0.31793, 0.31911, 0.32029, 0.32147, 0.32266, 0.32385,
		0.32504, 0.32623, 0.32743, 0.32862, 0.32982, 0.33103, 0.33223, 0.33344, 0.33465, 0.33586,
		0.33707, 0.33829, 0.33951, 0.34073, 0.34196, 0.34318, 0.34441, 0.34564, 0.34688, 0.34811,
		0.34935, 0.35059, 0.35183, 0.35308, 0.35433, 0.35558, 0.35683, 0.35809, 0.35934, 0.36060,
		0.36187, 0.36313, 0.36440, 0.36567, 0.36694, 0.36822, 0.36949, 0.37077, 0.37205, 0.37334,
		0.37462, 0.37591, 0.37720, 0.37850, 0.37979, 0.38109, 0.38239, 0.38370, 0.38500, 0.38631,
		0.38762, 0.38894, 0.39025, 0.39157, 0.39289, 0.39421, 0.39554, 0.39687, 0.39820, 0.39953,
		0.40086, 0.40220, 0.40354, 0.40488, 0.40623, 0.40758, 0.40892, 0.41028, 0.41163, 0.41299,
		0.41435, 0.41571, 0.41707, 0.41844, 0.41981, 0.42118, 0.42255, 0.42393, 0.42531, 0.42669,
		0.42807, 0.42946, 0.43085, 0.43224, 0.43363, 0.43503, 0.43643, 0.43783, 0.43923, 0.44064,
		0.44205, 0.44346, 0.44487, 0.44629, 0.44770, 0.44912, 0.45055, 0.45197, 0.45340, 0.45483,
		0.45626, 0.45770, 0.45914, 0.46058, 0.46202, 0.46346, 0.46491, 0.46636, 0.46781, 0.46927,
		0.47073, 0.47219, 0.47365, 0.47511, 0.47658, 0.47805, 0.47952, 0.48100, 0.48247, 0.48395,
		0.48544, 0.48692, 0.48841, 0.48990, 0.49139, 0.49288, 0.49438, 0.49588, 0.49738, 0.49889,
		0.50039, 0.50190, 0.50341, 0.50493, 0.50644, 0.50796, 0.50948, 0.51101, 0.51254, 0.51406,
		0.51560, 0.51713, 0.51867, 0.52021, 0.52175, 0.52329, 0.52484, 0.52639, 0.52794, 0.52949,
		0.53105, 0.53261, 0.53417, 0.53573, 0.53730, 0.53887, 0.54044, 0.54201, 0.54359, 0.54517,
		0.54675, 0.54834, 0.54992, 0.55151, 0.55310, 0.55470, 0.55629, 0.55789, 0.55949, 0.56110,
		0.56270, 0.56431, 0.56592, 0.56754, 0.56915, 0.57077, 0.57239, 0.57402, 0.57565, 0.57727,
		0.57891, 0.58054, 0.58218, 0.58382, 0.58546, 0.58710, 0.58875, 0.59040, 0.59205, 0.59370,
		0.59536, 0.59702, 0.59868, 0.60035, 0.60201, 0.60368, 0.60535, 0.60703, 0.60870, 0.61038,
		0.61207, 0.61375, 0.61544, 0.61713, 0.61882, 0.62051, 0.62221, 0.62391, 0.62561, 0.62732,
		0.62902, 0.63073, 0.63245, 0.63416, 0.63588, 0.63760, 0.63932, 0.64105, 0.64277, 0.64450,
		0.64623, 0.64797, 0.64971, 0.65145, 0.65319, 0.65494, 0.65668, 0.65843, 0.66019, 0.66194,
		0.66370, 0.66546, 0.66722, 0.66899, 0.67076, 0.67253, 0.67430, 0.67608, 0.67786, 0.67964,
		0.68142, 0.68321, 0.68499, 0.68678, 0.68858, 0.69037, 0.69217, 0.69397, 0.69578, 0.69758,
		0.69939, 0.70121, 0.70302, 0.70484, 0.70665, 0.70848, 0.71030, 0.71213, 0.71396, 0.71579,
		0.71762, 0.71946, 0.72130, 0.72314, 0.72499, 0.72683, 0.72868, 0.73054, 0.73239, 0.73425,
		0.73611, 0.73797, 0.73984, 0.74171, 0.74358, 0.74545, 0.74732, 0.74920, 0.75108, 0.75297,
		0.75485, 0.75674, 0.75863, 0.76053, 0.76242, 0.76432, 0.76622, 0.76813, 0.77003, 0.77194,
		0.77385, 0.77577, 0.77768, 0.77960, 0.78152, 0.78345, 0.78538, 0.78731, 0.78924, 0.79117,
		0.79311, 0.79505, 0.79699, 0.79894, 0.80089, 0.80284, 0.80479, 0.80674, 0.80870, 0.81066,
		0.81263, 0.81459, 0.81656, 0.81853, 0.82051, 0.82248, 0.82446, 0.82644, 0.82843, 0.83041,
		0.83240, 0.83439, 0.83639, 0.83839, 0.84039, 0.84239, 0.84439, 0.84640, 0.84841, 0.85042,
		0.85244, 0.85446, 0.85648, 0.85850, 0.86052, 0.86255, 0.86458, 0.86662, 0.86865, 0.87069,
		0.87273, 0.87478, 0.87682, 0.87887, 0.88092, 0.88298, 0.88504, 0.88709, 0.88916, 0.89122,
		0.89329, 0.89536, 0.89743, 0.89951, 0.90158, 0.90366, 0.90575, 0.90783, 0.90992, 0.91201,
		0.91411, 0.91620, 0.91830, 0.92040, 0.92251, 0.92461, 0.92672, 0.92883, 0.93095, 0.93307,
		0.93519, 0.93731, 0.93943, 0.94156, 0.94369, 0.94582, 0.94796, 0.95010, 0.95224, 0.95438,
		0.95653, 0.95868, 0.96083, 0.96298, 0.96514, 0.96730, 0.96946, 0.97162, 0.97379, 0.97596,
		0.97813, 0.98031, 0.98248, 0.98466, 0.98685, 0.98903, 0.99122, 0.99341, 0.99561, 0.99780,
		1.00000,
};

const int gammasLength = sizeof(gammas) / sizeof(gammas[0]);

int blend(int t, int src, int dst) {
	if(src == dst) {
		return src;
	}

	double srcMult = gammas[1000-t];
	double dstMult = gammas[t];

	int srcR = src >> 16;
	int dstR = dst >> 16;
	int srcG = (src >> 8) & 0xff;
	int dstG = (dst >> 8) & 0xff;
	int srcB = src & 0xff;
	int dstB = dst & 0xff;

	int resR = srcR==dstR ? srcR : srcR*srcMult + dstR*dstMult;
	int resG = srcG==dstG ? srcG : srcG*srcMult + dstG*dstMult;
	int resB = srcB==dstB ? srcB : srcB*srcMult + dstB*dstMult;

	return resR<<16 | resG<<8 | resB;
}

#endif